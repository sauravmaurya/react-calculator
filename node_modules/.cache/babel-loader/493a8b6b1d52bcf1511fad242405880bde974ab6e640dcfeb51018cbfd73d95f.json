{"ast":null,"code":"import _slicedToArray from\"/Users/saurav/Desktop/Code/react-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/saurav/Desktop/Code/react-calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer}from'react';import'./styles.css';import DigitButton from'./DigitButton';import OperationButton from'./OperationButton';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ACTIONS={ADD_DIGIT:'add-digit',CHOOSE_OPERTAION:'choose-operation',EVALUATE:'evaluate',DELETE_DIGIT:'delete-digit',CLEAR:'clear'};function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;// eslint-disable-next-line default-case\nswitch(type){case ACTIONS.ADD_DIGIT:if(state.overwrite){console.log(\"inside if\");return _objectSpread(_objectSpread({},state),{},{currentOperand:payload,overwrite:false});}if(payload===\"0\"&&state.currentOperand===\"0\"){return state;}if(payload===\".\"&&state.currentOperand.includes(\".\")){return state;}return _objectSpread(_objectSpread({},state),{},{currentOperand:\"\".concat(state.currentOperand||\"\").concat(payload)});case ACTIONS.CHOOSE_OPERTAION:if(state.previousOperand==null&&state.currentOperand==null){return state;}if(state.previousOperand==null){return _objectSpread(_objectSpread({},state),{},{operation:payload,previousOperand:state.currentOperand,currentOperand:null});}if(state.currentOperand==null){return _objectSpread(_objectSpread({},state),{},{operation:payload.operation});}return _objectSpread(_objectSpread({},state),{},{previousOperand:evaluate(state),operation:payload,currentOperand:null});case ACTIONS.CLEAR:return{};//return empty state\ncase ACTIONS.EVALUATE:if(state.previousOperand==null||state.currentOperand==null||state.operation==null){return state;}return{previousOperand:null,operation:null,currentOperand:evaluate(state),overwrite:true};case ACTIONS.DELETE_DIGIT:if(state.currentOperand==null)return state;return _objectSpread(_objectSpread({},state),{},{currentOperand:state.currentOperand.slice(0,-1)});}}function evaluate(_ref2){var currentOperand=_ref2.currentOperand,previousOperand=_ref2.previousOperand,operation=_ref2.operation;var prev=parseFloat(previousOperand);var current=parseFloat(currentOperand);var computation=\"\";if(isNaN(prev)||isNaN(current))return\"\";// eslint-disable-next-line default-case\nswitch(operation){case\"/\":computation=prev/current;break;case\"*\":computation=prev*current;break;case\"+\":computation=prev+current;break;case\"-\":computation=prev-current;break;}return computation.toString();}function App(){var _useReducer=useReducer(reducer,{}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],currentOperand=_useReducer2$.currentOperand,previousOperand=_useReducer2$.previousOperand,operation=_useReducer2$.operation,dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"calculator-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"output\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"previous-operand\",children:[previousOperand,operation]}),/*#__PURE__*/_jsx(\"div\",{className:\"current-operand\",children:currentOperand})]}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:function onClick(){return dispatch({type:ACTIONS.CLEAR});},children:\"AC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch({type:ACTIONS.DELETE_DIGIT});},children:\"DEL\"}),/*#__PURE__*/_jsx(OperationButton,{operation:\"/\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"1\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"2\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"3\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"*\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"4\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"5\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"6\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"+\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"8\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"9\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"-\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\".\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"0\",dispatch:dispatch}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:function onClick(){return dispatch({type:ACTIONS.EVALUATE});},children:\"=\"})]})});}export default App;","map":{"version":3,"names":["React","useReducer","DigitButton","OperationButton","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","ACTIONS","ADD_DIGIT","CHOOSE_OPERTAION","EVALUATE","DELETE_DIGIT","CLEAR","reducer","state","_ref","type","payload","overwrite","console","log","_objectSpread","currentOperand","includes","concat","previousOperand","operation","evaluate","slice","_ref2","prev","parseFloat","current","computation","isNaN","toString","App","_useReducer","_useReducer2","_slicedToArray","_useReducer2$","dispatch","children","className","onClick","digit"],"sources":["/Users/saurav/Desktop/Code/react-calculator/src/App.js"],"sourcesContent":["import React, { useReducer } from 'react'\nimport './styles.css';\nimport DigitButton from './DigitButton';\nimport OperationButton from './OperationButton';\n\nexport const ACTIONS = {\n    ADD_DIGIT: 'add-digit',\n    CHOOSE_OPERTAION: 'choose-operation',\n    EVALUATE: 'evaluate',\n    DELETE_DIGIT: 'delete-digit',\n    CLEAR: 'clear'\n}\n\nfunction reducer(state, { type, payload }) {\n    // eslint-disable-next-line default-case\n    switch (type) {\n        case ACTIONS.ADD_DIGIT:\n            if (state.overwrite) {\n                console.log(\"inside if\")\n                return {\n                    ...state,\n                    currentOperand: payload,\n                    overwrite: false,\n                }\n            }\n            if (payload === \"0\" && state.currentOperand === \"0\") {\n                return state\n            }\n            if (payload === \".\" && state.currentOperand.includes(\".\")) {\n                return state\n            }\n            return {\n                ...state,\n                currentOperand: `${state.currentOperand || \"\"}${payload}`\n            }\n\n        case ACTIONS.CHOOSE_OPERTAION:\n            if (state.previousOperand == null && state.currentOperand == null) {\n                return state\n            }\n            if (state.previousOperand == null) {\n                return {\n                    ...state,\n                    operation: payload,\n                    previousOperand: state.currentOperand,\n                    currentOperand: null\n                }\n            }\n            if (state.currentOperand == null) {\n                return {\n                    ...state,\n                    operation: payload.operation\n                }\n            }\n\n            return {\n                ...state,\n                previousOperand: evaluate(state),\n                operation: payload,\n                currentOperand: null,\n            }\n\n        case ACTIONS.CLEAR:\n            return {} //return empty state\n\n        case ACTIONS.EVALUATE:\n            if (state.previousOperand == null || state.currentOperand == null || state.operation == null) {\n                return state\n            }\n            return {\n                previousOperand: null,\n                operation: null,\n                currentOperand: evaluate(state),\n                overwrite: true\n            }\n        case ACTIONS.DELETE_DIGIT:\n            if (state.currentOperand == null) return state\n            return {\n                ...state,\n                currentOperand: state.currentOperand.slice(0, -1)\n            }\n    }\n}\n\nfunction evaluate({ currentOperand, previousOperand, operation }) {\n    const prev = parseFloat(previousOperand)\n    const current = parseFloat(currentOperand)\n    let computation = \"\";\n    if (isNaN(prev) || isNaN(current)) return \"\";\n    // eslint-disable-next-line default-case\n    switch (operation) {\n        case \"/\":\n            computation = prev / current\n            break;\n        case \"*\":\n            computation = prev * current\n            break;\n        case \"+\":\n            computation = prev + current\n            break;\n        case \"-\":\n            computation = prev - current\n            break;\n    }\n\n    return computation.toString()\n}\n\n\nfunction App() {\n\n    const [{ currentOperand, previousOperand, operation }, dispatch] = useReducer(reducer, {})\n\n    return (\n        <>\n            <div className='calculator-grid'>\n                <div className='output'>\n                    <div className=\"previous-operand\">{previousOperand}{operation}</div>\n                    <div className=\"current-operand\">{currentOperand}</div>\n                </div>\n                <button className=\"span-two\" onClick={() => dispatch({ type: ACTIONS.CLEAR })}>AC</button>\n                <button onClick={() => dispatch({ type: ACTIONS.DELETE_DIGIT })}>DEL</button>\n                <OperationButton operation=\"/\" dispatch={dispatch}></OperationButton>\n                <DigitButton digit=\"1\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"2\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"3\" dispatch={dispatch}></DigitButton>\n                <OperationButton operation=\"*\" dispatch={dispatch}></OperationButton>\n                <DigitButton digit=\"4\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"5\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"6\" dispatch={dispatch}></DigitButton>\n                <OperationButton operation=\"+\" dispatch={dispatch}></OperationButton>\n                <DigitButton digit=\"7\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"8\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"9\" dispatch={dispatch}></DigitButton>\n                <OperationButton operation=\"-\" dispatch={dispatch}></OperationButton>\n                <DigitButton digit=\".\" dispatch={dispatch}></DigitButton>\n                <DigitButton digit=\"0\" dispatch={dispatch}></DigitButton>\n                <button className='span-two' onClick={() => dispatch({ type: ACTIONS.EVALUATE })}>=</button>\n            </div>\n        </>\n    )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}